<mvc:View
    controllerName="intern.portal.controller.CompanyPolicy"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m">
    <Page id="policyPage" title="{i18n>policyTitle}" showNavButton="true" navButtonPress="onNavBack">
        <headerContent>
            <Button id="refreshButton" 
                    text="{i18n>refreshButton}" 
                    type="Transparent" 
                    press="onRefresh"/>
        </headerContent>
        <content>
            <VBox class="sapUiMediumMargin">
                <Title text="{i18n>policyTitle}" level="H1" class="sapUiMediumMarginBottom"/>
                <Text text="{i18n>policySubtitle}" class="sapUiSmallMarginBottom"/>
                
                <List id="policyList" 
                      items="{/CompanyPolicy}"
                      mode="SingleSelect"
                      selectionChange="onPolicySelect"
                      class="sapUiLargeMarginTop">
                    <StandardListItem
                        title="{title}"
                        description="{effectiveFrom}"
                        info="{version}"
                        type="Active"/>
                </List>
                
                <!-- Policy Detail Panel -->
                <Panel id="policyDetailPanel" 
                       headerText="Policy Details" 
                       visible="false"
                       class="sapUiLargeMarginTop">
                    <content>
                        <VBox class="sapUiMediumMargin">
                            <Title id="selectedPolicyTitle" level="H3" class="sapUiSmallMarginBottom"/>
                            <Text id="selectedPolicyVersion" class="sapUiSmallMarginBottom"/>
                            <Text id="selectedPolicyDate" class="sapUiSmallMarginBottom"/>
                            <FormattedText id="selectedPolicyContent" 
                                          htmlText="{selectedPolicy/content}"
                                          class="sapUiMediumMarginTop"/>
                        </VBox>
                    </content>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>
